import{J as w,F as E}from"./input.38efb5e7.js";import{E as C}from"./card.fc666766.js";import{E as v,a as B}from"./form-item.69a54e18.js";import{_ as b,j as V,m as D,p as h,d as o,w as s,aB as P,r as R,a as c,t as $,q as g,aa as p,ab as k,ac as y}from"./index.9604a7b6.js";import{R as A}from"./commonApi.b9452ad7.js";import{E as I}from"./index.704cb161.js";import"./index.fbf39a24.js";const S=V({name:"register",setup(){const r=P(),e=R(null),t=c({registerForm:{name:"",password:"",confirmPassword:"",email:"",nickname:""}}),d=(u,i,l)=>{t.registerForm.confirmPassword!==""&&t.registerForm.password!==t.registerForm.confirmPassword?l(new Error("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4")):l()},F=c({name:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"blur"},{max:12,message:"\u8D26\u53F7\u540D\u9650\u5236\u516D\u4E2A\u4E2D\u6587\u6C49\u5B57\u6216\u800512\u4E2A\u82F1\u6587\u5B57\u7B26",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{validator:d,trigger:"blur"}],confirmPassword:[{required:!0,message:"\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801",trigger:"blur"},{validator:d,trigger:"blur"}]}),f=()=>{e.value&&e.value.resetFields()},m=()=>{console.log("\u6CE8\u518C"),e.value&&e.value.validate&&e.value.validate(u=>{if(u){let i={username:t.registerForm.name,password:t.registerForm.password,email:t.registerForm.email};A(i).then(l=>{console.log("res",l),l.data})}else I({message:"\u8BF7\u5B8C\u5584\u6CE8\u518C\u8868\u5355\u4FE1\u606F",type:"warning",center:!0})})},n=u=>{r.replace(u)};return{register:e,rules:F,...$(t),handleSubmitForm:m,handleResetForm:f,handleRouterChange:n}}}),_=r=>(k("data-v-14f6b925"),r=r(),y(),r),q={class:"user"},U={class:"card-header"},N=_(()=>g("span",null,"\u6CE8\u518C",-1)),j=_(()=>g("div",{class:"registerAction"},null,-1));function J(r,e,t,d,F,f){const m=w,n=E,u=v,i=B,l=C;return D(),h("div",q,[o(l,{class:"box-card"},{header:s(()=>[g("div",U,[N,o(m,{class:"button",type:"text",onClick:e[0]||(e[0]=a=>r.handleRouterChange("/login"))},{default:s(()=>[p("\u8FD4\u56DE")]),_:1})])]),default:s(()=>[o(i,{"label-position":"right","label-width":"80px",model:r.registerForm,rules:r.rules,ref:"register",class:"registerForm"},{default:s(()=>[o(u,{label:"\u90AE\u7BB1",prop:"name"},{default:s(()=>[o(n,{modelValue:r.registerForm.email,"onUpdate:modelValue":e[1]||(e[1]=a=>r.registerForm.email=a)},null,8,["modelValue"])]),_:1}),o(u,{label:"\u8D26\u53F7",prop:"name"},{default:s(()=>[o(n,{modelValue:r.registerForm.name,"onUpdate:modelValue":e[2]||(e[2]=a=>r.registerForm.name=a)},null,8,["modelValue"])]),_:1}),o(u,{label:"\u5BC6\u7801",prop:"password"},{default:s(()=>[o(n,{modelValue:r.registerForm.password,"onUpdate:modelValue":e[3]||(e[3]=a=>r.registerForm.password=a),"show-password":""},null,8,["modelValue"])]),_:1}),o(u,{label:"\u786E\u8BA4\u5BC6\u7801",prop:"confirmPassword"},{default:s(()=>[o(n,{modelValue:r.registerForm.confirmPassword,"onUpdate:modelValue":e[4]||(e[4]=a=>r.registerForm.confirmPassword=a),"show-password":""},null,8,["modelValue"])]),_:1}),o(u,null,{default:s(()=>[o(m,{type:"primary",onClick:e[5]||(e[5]=a=>r.handleSubmitForm())},{default:s(()=>[p("\u6CE8\u518C")]),_:1}),o(m,{onClick:e[6]||(e[6]=a=>r.handleResetForm())},{default:s(()=>[p("\u91CD\u7F6E")]),_:1})]),_:1}),j]),_:1},8,["model","rules"])]),_:1})])}var O=b(S,[["render",J],["__scopeId","data-v-14f6b925"]]);export{O as default};
